<Ui xmlns="http://www.blizzard.com/wow/ui/"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

    <!-- ============================================================
         Main addon frame — receives game events
         ============================================================ -->
    <Frame name="GuildBroadcastFrame" hidden="false">
        <Scripts>
            <OnLoad>
                GuildBroadcast_OnLoad();
            </OnLoad>
            <OnEvent>
                GuildBroadcast_OnEvent();
            </OnEvent>
        </Scripts>
    </Frame>

    <!-- ============================================================
         Minimap button — draggable circular icon
         ============================================================ -->
    <Button name="GuildBroadcastMinimapButton" parent="Minimap"
            frameStrata="MEDIUM" width="31" height="31">
        <NormalTexture file="Interface\Icons\INV_Letter_15"/>
        <PushedTexture file="Interface\Icons\INV_Letter_15"/>
        <HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
        <Layers>
            <Layer level="OVERLAY">
                <!-- Circular border overlay so the icon looks like a proper minimap button -->
                <Texture name="GuildBroadcastMinimapButtonBorder"
                         file="Interface\Minimap\MiniMap-TrackingBorder"
                         setAllPoints="true"/>
            </Layer>
        </Layers>
        <Scripts>
            <OnLoad>
                GuildBroadcast_MinimapButton_OnLoad(this);
            </OnLoad>
            <OnClick>
                GuildBroadcast_MinimapButton_OnClick(this, arg1);
            </OnClick>
            <OnEnter>
                GuildBroadcast_MinimapButton_OnEnter(this);
            </OnEnter>
            <OnLeave>
                GuildBroadcast_MinimapButton_OnLeave(this);
            </OnLeave>
            <OnMouseDown>
                GuildBroadcast_MinimapButton_OnMouseDown(this, arg1);
            </OnMouseDown>
            <OnMouseUp>
                GuildBroadcast_MinimapButton_OnMouseUp(this, arg1);
            </OnMouseUp>
            <OnUpdate>
                GuildBroadcast_MinimapButton_OnUpdate(this, arg1);
            </OnUpdate>
        </Scripts>
    </Button>

    <!-- ============================================================
         Broadcast panel — centered, with message box, timer, and
         Start / Stop / Close controls
         ============================================================ -->
    <Frame name="GuildBroadcastPanel" frameStrata="DIALOG"
           width="420" height="300" hidden="true" enableMouse="true">
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background"
                  edgeFile="Interface\DialogFrame\UI-DialogBox-Border"
                  tile="true">
            <BackgroundInsets>
                <AbsInset left="11" right="12" top="12" bottom="11"/>
            </BackgroundInsets>
            <TileSize>
                <AbsValue val="32"/>
            </TileSize>
            <EdgeSize>
                <AbsValue val="32"/>
            </EdgeSize>
        </Backdrop>
        <Anchors>
            <Anchor point="CENTER" relativeTo="UIParent" relativePoint="CENTER"/>
        </Anchors>
        <Layers>
            <Layer level="ARTWORK">
                <!-- Title -->
                <FontString name="GuildBroadcastPanelTitle"
                            font="Fonts\FRIZQT__.TTF" text="Guild Broadcast"
                            justifyH="CENTER">
                    <FontHeight>
                        <AbsValue val="16"/>
                    </FontHeight>
                    <Color r="1" g="0.82" b="0"/>
                    <Anchors>
                        <Anchor point="TOP" relativePoint="TOP">
                            <Offset>
                                <AbsValue x="0" y="-16"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
                <!-- Interval label -->
                <FontString name="GuildBroadcastIntervalLabel"
                            font="Fonts\FRIZQT__.TTF" text="Interval (seconds):"
                            justifyH="LEFT">
                    <FontHeight>
                        <AbsValue val="12"/>
                    </FontHeight>
                    <Color r="1" g="1" b="1"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                            <Offset>
                                <AbsValue x="20" y="-164"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
                <!-- Status text -->
                <FontString name="GuildBroadcastStatusText"
                            font="Fonts\FRIZQT__.TTF" text="Idle"
                            justifyH="CENTER">
                    <FontHeight>
                        <AbsValue val="11"/>
                    </FontHeight>
                    <Color r="0.8" g="0.8" b="0.8"/>
                    <Anchors>
                        <Anchor point="BOTTOM" relativePoint="BOTTOM">
                            <Offset>
                                <AbsValue x="0" y="20"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <!-- Message text box (multi-line, max 255 chars = WoW guild chat limit) -->
        <EditBox name="GuildBroadcastMessageBox" multiLine="true"
                 autoFocus="false" maxLetters="255" width="380" height="100">
            <Anchors>
                <Anchor point="TOP" relativePoint="TOP">
                    <Offset>
                        <AbsValue x="0" y="-44"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background"
                      edgeFile="Interface\Tooltips\UI-Tooltip-Border"
                      tile="true">
                <BackgroundInsets>
                    <AbsInset left="4" right="4" top="4" bottom="4"/>
                </BackgroundInsets>
                <TileSize>
                    <AbsValue val="16"/>
                </TileSize>
                <EdgeSize>
                    <AbsValue val="16"/>
                </EdgeSize>
                <Color r="0" g="0" b="0" a="0.5"/>
            </Backdrop>
            <FontString font="Fonts\FRIZQT__.TTF">
                <FontHeight>
                    <AbsValue val="12"/>
                </FontHeight>
            </FontString>
            <Scripts>
                <OnEscapePressed>
                    GuildBroadcastPanel:Hide();
                </OnEscapePressed>
            </Scripts>
        </EditBox>
        <!-- Interval input -->
        <EditBox name="GuildBroadcastIntervalBox"
                 autoFocus="false" maxLetters="6" width="80" height="22">
            <Anchors>
                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                    <Offset>
                        <AbsValue x="160" y="-160"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background"
                      edgeFile="Interface\Tooltips\UI-Tooltip-Border"
                      tile="true">
                <BackgroundInsets>
                    <AbsInset left="4" right="4" top="4" bottom="4"/>
                </BackgroundInsets>
                <TileSize>
                    <AbsValue val="16"/>
                </TileSize>
                <EdgeSize>
                    <AbsValue val="16"/>
                </EdgeSize>
                <Color r="0" g="0" b="0" a="0.5"/>
            </Backdrop>
            <FontString font="Fonts\FRIZQT__.TTF">
                <FontHeight>
                    <AbsValue val="12"/>
                </FontHeight>
            </FontString>
            <Scripts>
                <OnEscapePressed>
                    GuildBroadcastPanel:Hide();
                </OnEscapePressed>
            </Scripts>
        </EditBox>
        <!-- Start button -->
        <Button name="GuildBroadcastStartButton" text="Start"
                width="80" height="22">
            <Anchors>
                <Anchor point="BOTTOM" relativePoint="BOTTOM">
                    <Offset>
                        <AbsValue x="-90" y="50"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-Button-Normal"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-Button-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-Button-Highlight"
                              alphaMode="ADD"/>
            <ButtonText name="GuildBroadcastStartButtonText"
                        font="Fonts\FRIZQT__.TTF">
                <FontHeight>
                    <AbsValue val="12"/>
                </FontHeight>
            </ButtonText>
            <Scripts>
                <OnClick>
                    GuildBroadcast_Panel_Start();
                </OnClick>
            </Scripts>
        </Button>
        <!-- Stop button -->
        <Button name="GuildBroadcastStopButton" text="Stop"
                width="80" height="22">
            <Anchors>
                <Anchor point="BOTTOM" relativePoint="BOTTOM">
                    <Offset>
                        <AbsValue x="10" y="50"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-Button-Normal"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-Button-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-Button-Highlight"
                              alphaMode="ADD"/>
            <ButtonText name="GuildBroadcastStopButtonText"
                        font="Fonts\FRIZQT__.TTF">
                <FontHeight>
                    <AbsValue val="12"/>
                </FontHeight>
            </ButtonText>
            <Scripts>
                <OnClick>
                    GuildBroadcast_Panel_Stop();
                </OnClick>
            </Scripts>
        </Button>
        <!-- Close button (X) -->
        <Button name="GuildBroadcastCloseButton" text="X"
                width="24" height="24">
            <Anchors>
                <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
                    <Offset>
                        <AbsValue x="-6" y="-6"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-Button-Normal"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-Button-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-Button-Highlight"
                              alphaMode="ADD"/>
            <ButtonText name="GuildBroadcastCloseButtonText"
                        font="Fonts\FRIZQT__.TTF">
                <FontHeight>
                    <AbsValue val="11"/>
                </FontHeight>
            </ButtonText>
            <Scripts>
                <OnClick>
                    GuildBroadcastPanel:Hide();
                </OnClick>
            </Scripts>
        </Button>
        <Scripts>
            <OnShow>
                GuildBroadcast_Panel_OnShow();
            </OnShow>
        </Scripts>
    </Frame>

</Ui>
