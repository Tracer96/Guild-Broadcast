<Ui xmlns="http://www.blizzard.com/wow/ui/"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

    <!-- ============================================================
         Main addon frame — receives game events
         ============================================================ -->
    <Frame name="GuildBroadcastFrame" hidden="false">
        <Scripts>
            <OnLoad>
                GuildBroadcast_OnLoad();
            </OnLoad>
            <OnEvent>
                GuildBroadcast_OnEvent();
            </OnEvent>
        </Scripts>
    </Frame>

    <!-- ============================================================
         Minimap button — draggable circular icon
         ============================================================ -->
    <Button name="GuildBroadcastMinimapButton" parent="Minimap"
            frameStrata="MEDIUM" width="31" height="31">
        <NormalTexture file="Interface\Icons\INV_Letter_15"/>
        <PushedTexture file="Interface\Icons\INV_Letter_15"/>
        <HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
        <Layers>
            <Layer level="OVERLAY">
                <!-- Circular border overlay so the icon looks like a proper minimap button -->
                <Texture name="GuildBroadcastMinimapButtonBorder"
                         file="Interface\Minimap\MiniMap-TrackingBorder"
                         setAllPoints="true"/>
            </Layer>
        </Layers>
        <Scripts>
            <OnLoad>
                GuildBroadcast_MinimapButton_OnLoad(this);
            </OnLoad>
            <OnClick>
                GuildBroadcast_MinimapButton_OnClick(this, arg1);
            </OnClick>
            <OnEnter>
                GuildBroadcast_MinimapButton_OnEnter(this);
            </OnEnter>
            <OnLeave>
                GuildBroadcast_MinimapButton_OnLeave(this);
            </OnLeave>
            <OnMouseDown>
                GuildBroadcast_MinimapButton_OnMouseDown(this, arg1);
            </OnMouseDown>
            <OnMouseUp>
                GuildBroadcast_MinimapButton_OnMouseUp(this, arg1);
            </OnMouseUp>
            <OnUpdate>
                GuildBroadcast_MinimapButton_OnUpdate(this, arg1);
            </OnUpdate>
        </Scripts>
    </Button>

    <!-- ============================================================
         Broadcast input popup
         ============================================================ -->
    <Frame name="GuildBroadcastPopup" frameStrata="DIALOG"
           width="320" height="110" hidden="true">
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background"
                  edgeFile="Interface\DialogFrame\UI-DialogBox-Border"
                  tile="true">
            <BackgroundInsets>
                <AbsInset left="11" right="12" top="12" bottom="11"/>
            </BackgroundInsets>
            <TileSize>
                <AbsValue val="32"/>
            </TileSize>
            <EdgeSize>
                <AbsValue val="32"/>
            </EdgeSize>
        </Backdrop>
        <Anchors>
            <Anchor point="CENTER" relativeTo="UIParent" relativePoint="CENTER"/>
        </Anchors>
        <Layers>
            <Layer level="ARTWORK">
                <!-- Title text -->
                <FontString name="GuildBroadcastPopupTitle"
                            font="Fonts\FRIZQT__.TTF" text="Guild Broadcast"
                            justifyH="CENTER">
                    <FontHeight>
                        <AbsValue val="14"/>
                    </FontHeight>
                    <Color r="1" g="0.82" b="0"/>
                    <Anchors>
                        <Anchor point="TOP" relativePoint="TOP">
                            <Offset>
                                <AbsValue x="0" y="-16"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <!-- Message edit box -->
        <EditBox name="GuildBroadcastEditBox" autoFocus="true"
                 maxLetters="255" width="280" height="30">
            <Anchors>
                <Anchor point="TOP" relativePoint="TOP">
                    <Offset>
                        <AbsValue x="0" y="-38"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background"
                      edgeFile="Interface\Tooltips\UI-Tooltip-Border"
                      tile="true">
                <BackgroundInsets>
                    <AbsInset left="4" right="4" top="4" bottom="4"/>
                </BackgroundInsets>
                <TileSize>
                    <AbsValue val="16"/>
                </TileSize>
                <EdgeSize>
                    <AbsValue val="16"/>
                </EdgeSize>
                <Color r="0" g="0" b="0" a="0.5"/>
            </Backdrop>
            <FontString font="Fonts\FRIZQT__.TTF">
                <FontHeight>
                    <AbsValue val="12"/>
                </FontHeight>
            </FontString>
            <Scripts>
                <OnEnterPressed>
                    GuildBroadcast_SendFromPopup();
                </OnEnterPressed>
                <OnEscapePressed>
                    GuildBroadcastPopup:Hide();
                </OnEscapePressed>
            </Scripts>
        </EditBox>
        <!-- Send button -->
        <Button name="GuildBroadcastSendButton" text="Send"
                width="80" height="22">
            <Anchors>
                <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOM">
                    <Offset>
                        <AbsValue x="-4" y="12"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-Button-Normal"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-Button-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-Button-Highlight"
                              alphaMode="ADD"/>
            <ButtonText name="GuildBroadcastSendButtonText"
                        font="Fonts\FRIZQT__.TTF">
                <FontHeight>
                    <AbsValue val="12"/>
                </FontHeight>
            </ButtonText>
            <Scripts>
                <OnClick>
                    GuildBroadcast_SendFromPopup();
                </OnClick>
            </Scripts>
        </Button>
        <!-- Cancel button -->
        <Button name="GuildBroadcastCancelButton" text="Cancel"
                width="80" height="22">
            <Anchors>
                <Anchor point="BOTTOMLEFT" relativePoint="BOTTOM">
                    <Offset>
                        <AbsValue x="4" y="12"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-Button-Normal"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-Button-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-Button-Highlight"
                              alphaMode="ADD"/>
            <ButtonText name="GuildBroadcastCancelButtonText"
                        font="Fonts\FRIZQT__.TTF">
                <FontHeight>
                    <AbsValue val="12"/>
                </FontHeight>
            </ButtonText>
            <Scripts>
                <OnClick>
                    GuildBroadcastPopup:Hide();
                </OnClick>
            </Scripts>
        </Button>
        <Scripts>
            <OnShow>
                GuildBroadcastEditBox:SetText("");
                GuildBroadcastEditBox:SetFocus();
            </OnShow>
        </Scripts>
    </Frame>

</Ui>
